{% extends 'base.html' %}
{% load staticfiles crispy_forms_tags %}


{% block content %}

    <div class="container">

        <h1>Cumul des membres actifs</h1>

        {% crispy form %}

        <div class="ct-chart ct-minor-seventh"></div>

        <p id="comment"></p>

    </div>

{% endblock content %}


{% block css %}

    {{ block.super }}
    <link href="{% static 'core/chartist/chartist.min.css' %}" rel="stylesheet">
    <style>
        .ct-label {
            font-size: 100%;
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        }
        .ct-series-a .ct-line {
            stroke: red;
            stroke-width: 2px;
            stroke-dasharray: 2px 2px;
        }
        .ct-series-b .ct-line {
            stroke: red;
            stroke-width: 2px;
        }
    </style>

{% endblock css %}


{% block js %}

    {{ block.super }}
    <script src="{% static 'core/chartist/chartist.min.js' %}"></script>
    <script>
        var options = {
            showPoint: false,
            lineSmooth: false,
            axisX: {
                showGrid: false
            },
            axisY: {
            }
        };
        $.getJSON("{% url 'members:adhesions_data' %}?season={{ season }}{% if reference %}&reference={{ reference }}{% endif %}{% if sv %}&sv{% endif %}{% if centres %}&centres{% endif %}", function(data) {
            new Chartist.Line('.ct-chart', data, options);
            $('#comment').html(data['comment']);
        });
    </script>

{% endblock js %}
